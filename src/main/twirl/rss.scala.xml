@(activities: List[model.Activity])(implicit context: app.Context)
@import context._
@import view.helpers._
<rss version="2.0">
  <channel>
    @header(activities)
    @activities.map { activity =>
      @item(activity)
    }
  </channel>
</rss>

@header(activities: List[model.Activity]) = {
  <title>Gitbucket's activities</title>
  <description>Gitbuckets activities</description>
  <link>@path</link>
  <lastBuildDate>@datetimeRFC822(activities.map(_.activityDate).max)</lastBuildDate>
  <pubDate>@datetimeRFC822(activities.map(_.activityDate).max)</pubDate>
}

@item(activity: model.Activity) = {
  <item>
    <title>@activity.activityType</title>
    <description>activity.message</description>
    <link>@path/@activity.userName/@activity.repositoryName</link>
    <guid>@activity.activityId</guid>
    <pubDate>@datetimeRFC822(activity.activityDate)</pubDate>
  </item>
}
